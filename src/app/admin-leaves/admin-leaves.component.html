<div class="container">
    
    <h1>Leaves History</h1>

    <div *ngIf="leaves.length == 0" class="text-center text-warning rounded-circle p-5">
        <h1>Oops!</h1>
        <h1><i class="bi bi-exclamation-circle dis"></i></h1>
        <h1>Nothing To Display</h1>
    </div>
    <div *ngIf="leaves.length > 0">
        <table class="table table-strip">
            <thead>
                <tr>
                    <th>Leave ID</th>
                    <th>Employee ID</th>
                    <th>Start Date</th>
                    <th>End Date</th>
                    <th>Reason</th>
                    <th>Status</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let leave of leaves">
                    <td>{{leave.id}}</td>
                    <td>{{leave.empid}}</td>
                    <td>{{leave.startDate}}</td>
                    <td>{{leave.endDate}}</td>
                    <td>{{leave.remarks}}</td>
                    <td>{{leave.status}}</td>
                    <td>
                        <button (click)="changeStatus(leave,'approved')" class="btn btn-success" [disabled]="leave.status==='approved' || leave.status === 'rejected'">Approve</button>
                        <button (click)="changeStatus(leave,'rejected')" class="btn btn-danger mx-2"  [disabled]="leave.status==='approved' || leave.status === 'rejected'">Reject</button>
                        <button (click)="changeStatus(leave,'pending')" class="btn btn-primary" [disabled]="leave.status != 'waiting'">Pending</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

